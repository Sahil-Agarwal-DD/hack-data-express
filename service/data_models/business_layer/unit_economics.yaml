business_model:
  version: 1
  description: "DataMart for finance unit economics"
  datamart: Unit-Economics
  domain: Finance
  attributes:
    - name: Delivery ID
      mapping: delivery_id
      description: Delivery Unique Identifier
      type: number
    - name: Active Date
      mapping: active_date
      description: based on quoted delivery time, in Local Timezone
      type: date
    - name: Created At
      mapping: created_at
      description: When the delivery was created by the customer (UTC)
      type: date
    - name: lob
      type: string
      mapping: line_of_business
      description: delivery ie Subscription, Pickup etc
      enum_values:
        - Subscription - CAV
        - Storefront
        - Pickup - CAV
        - "Marketplace: Subscription"
        - "Marketplace: Pickup"
        - "Marketplace: Classic"
        - "Drive: Checkout"
        - Drive
        - DoorDash for Business
        - DashLink
        - Classic - CAV
    - name: consumer
      mapping: "@consumer"
    - name: merchant
      mapping: "@merchant"
  hierarchical_entity:
    Active Date:
      - name: dt
        mapping: active_date
        description: based on quoted delivery time, in Local Timezone
        type: date
      - name: Week
        expr: WEEK([active_date])
        description: Week number of the year based on quoted delivery time, in Local Timezone
        type: number
      - name: Month
        expr: MONTH([active_date])
        description: Month number of the year based on quoted delivery time, in Local Timezone
        type: number
      - name: Quarter
        expr: QUARTER([active_date])
        description: Quarter number of the year based on quoted delivery time, in Local Timezone
        type: number
      - name: Year
        expr: YEAR([active_date])
        description: Year based on quoted delivery time, in Local Timezone
        type: number
    Created At:
      - name: dt
        expr: DATE([created_at])
        description: Date the delivery was created by the customer (UTC)
        type: date
      - name: Week
        expr: WEEK([created_at])
        description: Week number of the year based on when the delivery was created by the customer (UTC)
        type: number
      - name: Month
        expr: MONTH([created_at])
        description: Month number of the year based on when the delivery was created by the customer (UTC)
        type: number
      - name: Quarter
        expr: QUARTER([created_at])
        description: Quarter number of the year based on when the delivery was created by the customer (UTC)
        type: number
      - name: Year
        expr: YEAR([created_at])
        description: Year based on when the delivery was created by the customer (UTC)
        type: number
    Financials:
      - GOV:
        - name: (Gov Drive Adjustment)
          mapping: gov_drive_adjustment
          description: Deduction to subtotal, consisting of Drive + Storefront subtotal.DoorDash doesnt see Drive + Storefront subtotal, since these flow straight to the merchant(GMV = Gross Merchandise Volume)
          type: number
        - name: Gov
          mapping: gov
          description: Gross Order Value.Sum of cash inflow that DoorDash generates that comes from consumers (end users) i.e Subtotal + Tax + Tip + Cx Fees
          type: number
        - name: Subtotal
          mapping: subtotal
          description: Raw (menu) cost of order/goods that consumer sees (pre-tax, tip, fees) Marketplace + Drive + Storefront
          type: number
        - name: Tax
          mapping: tax
          description: Tax that consumer pays on order
          type: number
        - name: Tips
          mapping: tips
          description: Tip that consumer elects to pay to Dasher
          type: number
      - Dasher Costs:
         - name: Dasher Base Pay
           mapping: dasher_base_pay
           description: Base pay our Dashers receive for fulfilling an order
           type: number
         - name: Dasher Incentive Pay
           mapping: dasher_incentive_pay
           description: Bonus pay DoorDash pays Dashers to incentive/mobilize Dashers to get on the road as fast as possible
           type: number
         - name: Dasher Referrals
           mapping: dasher_referrals
           description: Incentive that DoorDash pays to new Dashers who have been referred on to the platform (i.e. the person who got referred)
           type: number
         - name: Fast Pay Revenue
           mapping: fast_pay_revenue
           description: Revenue that DoorDash collects from Dashers for using instant deposit (i.e. withdrawing money from account instantly)
           type: number
      - Total Dasher Costs:
         - name: Dasher Costs
           mapping: dasher_costs
           description: Contra revenue items associated with Dasher costs
           type: number
      - R & C:
        - name: Total Refunds
          mapping: total_refunds
          description: Cash refunds that DoorDash provides to consumers
          type: number
        - name: Support Credits
          mapping: support_credits
          description: Credit redemptions in a given period
          type: number
        - name: Credit Issuance Expense
          mapping: credit_issuance_expense
          description: Change in Credit Issuance balance on balance sheet, not the actual cost of credits given out in a period
          type: number
      - Total R & C:
          - name: Total Refunds
            mapping: refunds_credits
            description: Sum of Issued credits and refunds
            type: number
      - Discounts:
        - name: Bundles Pricing Discount
          mapping: bundles_pricing_discount
          description: Discount that DoorDash provides for bundled orders - no extra delivery fee on the additional/bundled order
          type: number
        - name: Consumer Referrals
          mapping: consumer_referrals
          description: Incentive that DoorDash pays to new consumers who have been referred on to the platform (i.e. the person who got referred)
          type: number
        - name: Drive Maas Advertising
          mapping: drive_maas_advertising
          description: Ad spend that DoorDash spends to promote Drive merchants through various advertising channels.MaaS = Marketing as a Service
          type: number
        - name: FMX
          mapping: fmx
          description: First Month $X.Promotion that DoorDash offers new consumers in their first month - free or discounted delivery fees on subsequent orders after 1st order
          type: number
        - name: First Delivery Discount
          mapping: first_delivery_discount
          description: First Delivery Free (or any variation such as FD1 - First Delivery $1) Promotion that DoorDash offers new consumers on their first delivery - free or discounted delivery fees (FDF)
          type: number
        - name: Operational Error
          mapping: operational_error
          description: Marqueta undercharge expense that DD ultimately pays for. This is in the case of red card usage where the in-app menu price is cheaper than the actual swiped amount in store. The delta is covered by DD instead of passed back to the consumer.Additionally, there are also situations where our app menu prices are overstated and we charge the customer more. Thus, we end up refunding the difference to the customer. This is an offset instead of a true cost to the P&L because gross fees will have the benefit of the overcharge.
          type: number
        - name: Other Promotions
          mapping: other_promotions
          description: Other consumer promotions that do not fall into lines above
          type: number
        - name: Payments To Customers
          mapping: payments_to_customers
          description: Miscellaneous payments that DoorDash makes to merchants, such as sales guarantees, royalties, contractual discounts, etc.
          type: number
        - name: Promotions New Customers
          mapping: promotions_new_customers
          description: Promotions/discounts for new consumes (that do not involve delivery fees)
          type: number
        - name: Shipping Costs
          mapping: shipping_costs
          description: shipping_costs
          type: number
      - Total Discounts:
          - name: Total Discounts
            mapping: discounts
            description: Contra revenue items associated with discounts and promotions
            type: number
      - RC&P:
          - name: RC&P
            mapping: refund_credits_and_promotions
            description: refund_credits_and_promotions
            type: number
      - Net Revenue:
          - name: Net Revenue
            mapping: net_revenue
            description: Gross Fees - Dasher Costs - R&C - Discounts - Chase
            type: number
      - Cost Of Sales:
          - name: Auto Insurance Expense
            mapping: auto_insurance_expense
            description: Auto insurance premium that DoorDash pays to 3rd parties to insure Dashers while they are active;Also includes auto loss reserve expense
            type: number
          - name: Cancellations
            mapping: cancellations
            description: Cost that DoorDash pays to the merchant for a canceled order
            type: number
          - name: Cost Of Gift Cards
            mapping: cost_of_gift_cards
            description: Cost that DoorDash pays to third party vendor as a fee for servicing our gift cards
            type: number
          - name: Cost Of Lease And Equipment
            mapping: cost_of_lease_and_equipment
            description: Lease expense for DashMart facilities and ghost kitchens
            type: number
          - name: Courier Pay
            mapping: courier_pay
            description: Wages that DoorDash pays to W2 couriers as part of DashForce (for 15 minute deliveries)
            type: number
          - name: Dasher Pay On Cancellations
            mapping: dasher_pay_on_cancellations
            description: Pay that Dashers receive on canceled orders. Note that this cost is separate from the Dasher Base and Dasher Other lines in the Dasher Costs bucket, which only apply to completed/fulfilled orders.
            type: number
          - name: Dasher Pay On Redeliveries
            mapping: dasher_pay_on_redeliveries
            description: Pay that Dashers receieve on redelivered orders. Note that this cost is separate from the Dasher Base and Dasher Other lines in the Dasher Costs bucket, which only apply to the original order.
            type: number
          - name: Drive Maas Management Fees
            mapping: drive_maas_management_fees
            description: Management fee that DoorDash pays for Drive MaaS Advertising
            type: number
          - name: Fast Pay Fees
            mapping: fast_pay_fees
            description: Payment processing fees that DoorDash pays in order to offer Dashers the Fast Pay service (instant deposit)
            type: number
          - name: Inventory Costs
            mapping: inventory_costs
            description: Cost of inventory that is sold through DashMart
            type: number
          - name: Middleware Provider Fee
            mapping: middleware_provider_fee
            description: Integration fees that DoorDash pays to middleware providers
            type: number
          - name: Order Fullfillment Labor
            mapping: order_fullfillment_labor
            description: Labor costs for the labor force that DoorDash employs for DashMart and ghost kitchens.
            type: number
          - name: Order Placement
            mapping: order_placement
            description: Cost that DoorDash pays to agents/vendors/automated services that place orders to non-partner merchants
            type: number
          - name: Payment Processing Fees
            mapping: payment_processing_fees
            description: Payment processing fees that DoorDash pays
            type: number
          - name: Redeliveries
            mapping: redeliveries
            description: Cost (subtotal + tax) of redelivering an order to consumer
            type: number
          - name: Release Of  Mx Unpaid Liability
            mapping: release_of_mx_unpaid_liability
            description: Release of cash balance (liability) on balance sheet that is set aside to pay merchants that claim to be unpaid
            type: number
          - name: Royalties
            mapping: royalties
            description: Royalty revenue that DoorDash receives from Marqeta (Red Card provider) as a revenue share for running transaction volume through their platform (% of GOV)
            type: number
          - name: Umbrella Insurance
            mapping: umbrella_insurance
            description: Insurance premium that DoorDash pays for umbrella insurance - additional insurance that provides protection beyond existing limits and coverages of other policies
            type: number
      - Total Cost Of Sales:
          - name: Total Cost of Sales
            mapping: cost_of_sales
            description: COGS
            type: number
      - Support:
          - name: Support
            mapping: support
            description: Cost of support agents and technology costs (e.g. Salesforce)
            type: number
      - Variable Profit:
          - name: Variable Profit
            mapping: variable_profit
            description: Revenue - Cost of Sales - Redeliveries - Support
            type: number
      - Ops & Support/Variable Opex:
          - name: DES Facilities
            mapping: des_facilities
            description: Legacy
            type: number
          - name: Dasher Onboarding
            mapping: dasher_onboarding
            description: Costs for services associated with onboarding new Dashers (primarily background checks)
            type: number
          - name: Dasher PPE
            mapping: dasher_ppe
            description: Costs of personal protective equipment (PPE) that DoorDash provides Dashers as a response to COVID (e.g. masks, wipes, sanitizer, gloves, etc.)
            type: number
          - name: Dasher Subsidies
            mapping: dasher_subsidies
            description: Subsidies that DoorDash pays Dashers (i.e. sick pay)
            type: number
          - name: Internet Servers
            mapping: internet_servers
            description: Platform costs for hosting the website/app (e.g. AWS)
            type: number
          - name: Merchant Menu Cost
            mapping: merchant_menu_cost
            description: Cost of getting/updating a merchants menu onto our app/platform
            type: number
      - CX Fees:
          - name: Delivery Fees
            mapping: delivery_fees
            description: Cost of doing delivery that DoorDash charges to consumers AKA Headline Fee
            type: number
          - name: Inflation Tax Retailer
            mapping: inflation_tax_retailer
            description: Marginal revenue generated from the "inflation tax", which is an "inflation rate" that merchants can opt in to charge on its items (e.g. 10% of subtotal)
            type: number
          - name: Legislative Fees
            mapping: legislative_fees
            description: Fee DoorDash charges in certain cities to pass the revenue impact from local regulation on to consumers AKA Regulatory Response Fee(in-app)
            type: number
          - name: Priority Fees
            mapping: priority_fee
            description: priority_fee
            type: number
          - name: Service Fees
            mapping: service_fees
            description: Service fee charged to consumers as a % of subtotal
            type: number
          - name: Small Order Fees
            mapping: small_order_fees
            description: Flat fee that DoorDash charges on orders below the $12 subtotal minimum threshold
            type: number
          - name: Subscription Delivery Fees Discount
            mapping: subscription_delivery_fees_discount
            description: Adjustment entry to apply the discount that DashPass holders receive on delivery fees
            type: number
          - name: Subscription Fees
            mapping: subscription_fees
            description: Revenue that DoorDash collects from DashPass subscriptions
            type: number
          - name: Subscription Service Fees Discount
            mapping: subscription_service_fees_discount
            description: Adjustment entry to apply the discount that DashPass holders receive on service fees
            type: number
      - Total Cx Fees:
          - name: Total Cx Fees
            mapping: cx_fees
            description: Total fees that DoorDash collects from consumers
            type: number
      - MX Fees:
          - name: Commission
            mapping: commission
            description: Commissions that DoorDash collects from merchants
            type: number
          - name: DDfW Internal Benefits
            mapping: ddfw_internal_benefits
            description: Legacy(Employee meals benefits)
            type: number
          - name: Drive saas Fees
            mapping: drive_saas_fees
            description: Fees that DoorDash collects from Drive merchants for providing SaaS (support as a service)
            type: number
          - name: Kitchen Fees
            mapping: kitchen_fees
            description: Fees that DoorDash collects from merchants for the right to operate within DoorDash ghost kitchens
            type: number
          - name: Merchant Marketing Fees
            mapping: merchant_marketing_fees
            description: Fees that DoorDash collects from merchants to run discounts/campaigns, ads.Also includes funds from merchants if they are funding the promos
            type: number
          - name: Merchant Promotions
            mapping: merchant_promotions
            description: Adjustment entry to apply the discounts that merchants offer
            type: number
          - name: Merchant Service Fees
            mapping: merchant_service_fees
            description: Fees that DoorDash collects from merchants to maintain tablet usage
            type: number
          - name: Merchant Tips
            mapping: merchant_tips
            description: Tips that DoorDash charges the merchant when consumers do not elect to tip Dasher
            type: number
          - name: Revenue Reserve
            mapping: revenue_reserve
            description: When a merchant is labeled as bad debt, then any future revenue cannot be recognized as revenue and will be negative amount in this P&L line
            type: number
          - name: Storefront Merchant Fees
            mapping: storefront_merchant_fees
            description: Fees that DoorDash collects from merchants that list on our Storefront platform
            type: number
          - name: Voice Ordering Revenue
            mapping: voice_ordering_revenue
            description: Revenue that DD collects from Drive merchants for voice orders (per order fee)
            type: number
      - Total Mx Fees:
          - name: Total Mx Fees
            mapping: mx_fees
            description: Total fees that DoorDash collects from merchants
            type: number
      - Other Revenue:
          - name: Gift Card Revenue
            mapping: gift_card_revenue
            description: Revenue recognized from gift cards that are unused
            type: number
          - name: Grab Revenue
            mapping: grab_revenue
            description: Legacy - to be deprecated
            type: number
          - name: Product Revenue - Machinery
            mapping: product_revenue_machinery
            description: Revenue from sales of Chowbotics machinery to merchants
            type: number
      - Total Other Revenue:
         - name: Total Other Revenue
           mapping: other_revenue
           description: Summation of revenues from Legacy and gift cards
           type: number
      - Gross Fees:
         - name: Gross Fees
           mapping: gross_fees
           description: Cx Fees + Mx Fees + Other Revenue
           type: number
      - Volume:
         - name: Classic - CAV
           mapping: classic_cav_volume
           description: Total no. of completed classic caviar orders
           type: number
#         - name: Classic Volume
#           mapping:
#           description:
#           type: number
         - name: DDFW Volume
           mapping: ddfw_volume
           description: Total no. of completed DDFW(DoorDash for Work) orders
           type: number
         - name: Dashlink Volume
           mapping: dashlink_volume
           description: Total no. of completed dash-link orders
           type: number
         - name: Drive Checkout Volume
           mapping: drive_checkout_volume
           description: Total no. of completed drive checked out orders
           type: number
         - name: Drive Volume
           mapping: drive_volume
           description: Total no. of completed drive orders
           type: number
         - name: Pickup - CAV
           mapping: pickup_cav_volume
           description: Total no. of completed picked up caviar orders
           type: number
#         - name: Pickup Volume
#           mapping:
#           description:
#           type: number
         - name: Storefront Volume
           mapping: strorefront_volume
           description: Total no. of completed storefront orders
           type: number
         - name: Subscription - CAV
           mapping: subscription_cav_volume
           description: Total no. of completed subscription caviar orders
           type: number
#         - name: Subscription Volume
#           mapping:
#           description:
#           type: number
      - Total Volume:
         - name: Total Volume
           mapping: volume
           description: Total no. of completed orders
           type: number